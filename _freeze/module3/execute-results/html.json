{
  "hash": "86ba203de56a8fc96ca525b305b2d5b6",
  "result": {
    "engine": "knitr",
    "markdown": "# Module 2 — Data Visualization \n\n> **Pedagogical note:** This module is designed for **two audiences at once**:\n> - Learners **new to statistics** (focus on intuition, what to plot, and why)\n> - Learners **with statistics background** (focus on correctness, assumptions, and best practice)\n\n---\n\n## Learning Outcomes\n\nBy the end of this module, learners will be able to:\n\n- Choose the **right plot for the right question**.\n- Create common plots using **base R** and **ggplot2**.\n- Understand the statistical meaning behind plots (distribution, comparison, relationship).\n- Build **publication-quality** and **complex visualizations** using ggplot2.\n- Visualize outputs from PCA, clustering, and machine learning models.\n\n---\n\n## 1. Why visualization matters (intuition first)\n\nVisualization helps answer three fundamental questions:\n\n1. **What does my data look like?** (distribution)\n2. **How do groups compare?** (comparison)\n3. **How are variables related?** (relationships)\n\nA good visualization:\n- Matches the **data type** (categorical vs numeric)\n- Matches the **question** being asked\n- Avoids distortion and unnecessary decoration\n\n---\n\n## 2. Base R plotting — foundations\n\nBase R plotting is:\n- Immediate\n- Explicit\n- Very useful for quick diagnostics\n\n### 2.1 Histogram — distributions (numeric)\n\n**When to use:**\n- To understand the distribution of a single numeric variable\n- To check skewness, modality, outliers\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(iris$Sepal.Length,\n     main = \"Histogram of Sepal Length\",\n     xlab = \"Sepal Length\",\n     col = \"lightblue\",\n     border = \"white\")\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\n**Statistical meaning:** area represents frequency; shape approximates the probability distribution.\n\n---\n\n### 2.2 Bar plot — counts or summaries (categorical)\n\n**When to use:**\n- Comparing counts across categories\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncounts <- table(iris$Species)\nbarplot(counts,\n        main = \"Count of Species\",\n        col = \"tan\")\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n**Do not** use bar plots for raw numeric distributions (use histograms instead).\n\n---\n\n### 2.3 Boxplot — distribution comparison\n\n**When to use:**\n- Comparing distributions across groups\n- Identifying outliers\n\n\n::: {.cell}\n\n```{.r .cell-code}\nboxplot(Sepal.Length ~ Species,\n        data = iris,\n        main = \"Sepal Length by Species\",\n        col = \"lightgray\")\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n**Statistical interpretation:**\n- Median, IQR, and outliers (1.5×IQR rule)\n\n---\n\n### 2.4 Scatter plot — relationships\n\n**When to use:**\n- Relationship between two numeric variables\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(iris$Petal.Length, iris$Petal.Width,\n     main = \"Petal Length vs Width\",\n     xlab = \"Petal Length\",\n     ylab = \"Petal Width\")\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n---\n\n### 2.5 Pie charts — proportions (use sparingly)\n\n**When to use:**\n- Simple proportion comparisons (few categories)\n\n\n::: {.cell}\n\n```{.r .cell-code}\npie(counts, main = \"Species Proportion\")\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n⚠️ **Teaching warning:** Pie charts make precise comparisons difficult. Prefer bar charts.\n\n---\n\n## 3. Introduction to ggplot2 — Grammar of Graphics\n\n**Core idea:** build plots by mapping data → aesthetics → geometric objects.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'ggplot2' was built under R version 4.3.3\n```\n\n\n:::\n:::\n\n\nStructure:\n\n```r\nggplot(data, aes(x, y)) +\n  geom_*() +\n  theme_*()\n```\n\n---\n\n## 4. Common plots in ggplot2 (side-by-side with base R)\n\n### 4.1 Histogram\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(iris, aes(Sepal.Length)) +\n  geom_histogram(bins = 20, fill = \"steelblue\", color = \"white\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n---\n\n### 4.2 Bar plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(iris, aes(Species)) +\n  geom_bar(fill = \"tan\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n---\n\n### 4.3 Boxplot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(iris, aes(Species, Sepal.Length)) +\n  geom_boxplot(fill = \"lightgray\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n---\n\n### 4.4 Scatter plot with grouping\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(iris, aes(Petal.Length, Petal.Width, color = Species)) +\n  geom_point(size = 3) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n---\n\n## 5. Statistical layers (for advanced learners)\n\n### 5.1 Trend lines\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(iris, aes(Petal.Length, Petal.Width)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = TRUE) +\n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n---\n\n### 5.2 Density plots\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(iris, aes(Sepal.Length, fill = Species)) +\n  geom_density(alpha = 0.5) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n---\n\n## 6. Complex visualizations with ggplot2\n\n### 6.1 Faceting (small multiples)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(iris, aes(Sepal.Length)) +\n  geom_histogram(bins = 20, fill = \"steelblue\") +\n  facet_wrap(~Species) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n---\n\n### 6.2 PCA visualization\n\n\n::: {.cell}\n\n```{.r .cell-code}\npca <- prcomp(iris[,1:4], scale. = TRUE)\npca_df <- data.frame(PC1 = pca$x[,1], PC2 = pca$x[,2], Species = iris$Species)\n\nggplot(pca_df, aes(PC1, PC2, color = Species)) +\n  geom_point(size = 3) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n---\n\n### 6.3 Cluster visualization\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123)\nscaled_data <- scale(iris[,1:4])\nkm <- kmeans(scaled_data, centers = 3)\npca <- prcomp(scaled_data)\ncluster_df <- data.frame(PC1 = pca$x[,1], PC2 = pca$x[,2], cluster = factor(km$cluster))\n\nggplot(cluster_df, aes(PC1, PC2, color = cluster)) +\n  geom_point(size = 3) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n---\n\n### 6.4 Model interpretation plots (PDP recap)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(randomForest)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'randomForest' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nrandomForest 4.7-1.1\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nType rfNews() to see new features/changes/bug fixes.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'randomForest'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:ggplot2':\n\n    margin\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(pdp)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'pdp' was built under R version 4.3.3\n```\n\n\n:::\n\n```{.r .cell-code}\nrf <- randomForest(Species ~ ., data = iris)\npartial(rf, pred.var = \"Petal.Length\", prob = TRUE, which.class = \"setosa\", plot = TRUE)\n```\n\n::: {.cell-output-display}\n![](module3_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n---\n\n## 7. Choosing the right plot — summary table\n\n| Question | Variable types | Recommended plot |\n|--------|----------------|------------------|\n| Distribution | Numeric | Histogram, Density |\n| Compare groups | Numeric + Categorical | Boxplot, Violin |\n| Counts | Categorical | Bar plot |\n| Proportions | Categorical | Bar (preferred), Pie |\n| Relationship | Numeric + Numeric | Scatter plot |\n| High-dimensional | Numeric (many) | PCA scatter |\n\n---\n\n## 8. Exercises & self-checks\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Sanity checks\nstopifnot(is.numeric(iris$Sepal.Length))\nstopifnot(length(unique(iris$Species)) == 3)\n\n# Student task ideas:\n# 1. Create one plot per question type using iris\n# 2. Convert a base plot to ggplot2\n# 3. Justify plot choice in one sentence\n\n# - Start with **base R** to build intuition\n# - Move to **ggplot2** for flexibility and publication quality\n# - Always ask: *What question does this plot answer?*\n# - Emphasize interpretation over aesthetics\n```\n:::\n\n\n---\n\n\n\n\n\n\n\n\n",
    "supporting": [
      "module3_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}